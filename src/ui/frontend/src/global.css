/* Ensure the three-canvas container reserves space for fixed footer/control on small screens
	 so the footer does not overlap content and the page becomes scrollable if needed. */
#three-canvas-container {
	height: 100vh;
}
@media (max-width: 720px) {
	/* reserve space at bottom for control-bar + footer */
	#three-canvas-container {
		height: calc(100vh - 140px);
	}

	/* additionally ensure the overall page has bottom padding so other content isn't hidden */
	ion-content, .ion-page, body, #root {
		padding-bottom: 160px !important;
	}
}
/* Global styles for the frontend UI */
:root{
	--ion-background-color: #2b2b2b;
	--panel-bg: rgba(0,0,0,0.6);
	--panel-color: #ffffff;
	--input-bg: rgba(255,255,255,0.04);
	--input-border: rgba(255,255,255,0.15);
	--input-padding: 6px;
	--input-radius: 4px;
	/* Ensure Ionic components that use the --ion-font-family var show the same font */
	--ion-font-family: 'Orbitron', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

/* Responsive: on small screens hide side panels and only show minimal controls */
@media (max-width: 720px) {
	.panel-stack, .panel-stack-bottom-right {
		display: none !important;
	}
	/* make control bar slightly larger and centered for thumb access */
	.control-bar {
		bottom: 12px;
		left: 50%;
		transform: translateX(-50%);
		padding: 10px 16px;
		gap: 8px;
	}
	.control-button {
		padding: 10px 12px;
		font-size: 16px;
	}
}

/* Load Orbitron font from public folder */
@font-face {
	font-family: 'Orbitron';
	src: url('/fonts/Orbitron-Regular.ttf') format('truetype');
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}


/* Make app background fully black and ensure readable text */
html, body, #root, ion-app, ion-content {
	background-color: #2b2b2b !important;
	/* softer general text color to avoid full-white everywhere */
	color: #ddd !important;
	font-family: 'Orbitron', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

/* Fallback to ensure Ion components using shadow DOM inherit the page font when possible */
ion-button, ion-item, ion-label, ion-text, ion-card, ion-card-title {
	font-family: var(--ion-font-family) !important;
}

/* Transparent input used across panels */
.transparent-input{
	background: var(--input-bg);
	color: #fff;
	padding: var(--input-padding);
	border-radius: var(--input-radius);
	border: 1px solid var(--input-border);
	outline: none;
}
.transparent-input::placeholder{
	color: rgba(255,255,255,0.6);
}

/* Panel common tweaks */
.panel-root{
	background: var(--panel-bg);
	color: var(--panel-color);
	padding: 8px;
	border-radius: 8px;
	width: 320px;
	max-width: 90vw;
	box-sizing: border-box;
}

/* Icon buttons that visually match the panel background */
.panel-icon-button {
	/* lighter, subtle glass-like button matching panel feel but less black */
	background: rgba(255,255,255,0.025) !important;
	color: var(--panel-color) !important;
	border-radius: 8px !important;
	display: inline-flex !important;
	align-items: center !important;
	justify-content: center !important;
	width: 40px !important;
	height: 40px !important;
	min-width: 40px !important;
	padding: 0 !important;
	border: 1px solid rgba(255,255,255,0.06) !important;
	box-shadow: none !important;
}
.panel-icon-button ion-icon {
	color: var(--panel-color) !important;
}
.panel-icon-button:hover {
	background: rgba(255,255,255,0.045) !important;
}

/* Stronger Ionic variable overrides to prevent primary-blue from leaking in */
.panel-icon-button {
	--background: var(--panel-bg) !important;
	--background-activated: rgba(255,255,255,0.03) !important;
	--background-focused: rgba(255,255,255,0.02) !important;
	--background-hover: rgba(255,255,255,0.03) !important;
	--color: var(--panel-color) !important;
	--ripple-color: rgba(255,255,255,0.06) !important;
}

/* Also handle cases where Ionic adds color classes like .ion-color-primary */
.panel-icon-button.ion-color-primary,
.panel-icon-button.ion-color-primary:hover,
.panel-icon-button.ion-color-primary:active {
	--background: var(--panel-bg) !important;
	--background-hover: rgba(255,255,255,0.03) !important;
	--color: var(--panel-color) !important;
}

/* Stack container for top-left panels */
.panel-stack{
	position: fixed;
	bottom: 12px;
	left: 12px;
	z-index: 300;
	display: flex;
	flex-direction: column-reverse; /* render first child at bottom */
	gap: 8px;
	pointer-events: auto;
}

/* Bottom-right stack for panels (Energy, Optimizer, etc.) */
.panel-stack-bottom-right{
  position: fixed;
  right: 12px;
  bottom: 12px;
  z-index: 400;
  display: flex;
  flex-direction: column-reverse; /* render first child at bottom */
  gap: 8px;
  pointer-events: auto;
}

/* small list area inside Energy panel to host small panels (e.g., optimizer) */
.energy-aside-list{
	display: flex;
	flex-direction: column;
	gap: 8px;
}

.energy-aside-list .panel-root{
	width: 100%;
	box-sizing: border-box;
}

/* Bottom control bar (pill) */
.control-bar{
	position: fixed;
	bottom: 8px;
	left: 50%;
	transform: translateX(-50%);
	z-index: 500;
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 8px 18px;
	background: rgba(0,0,0,0.45);
	border-radius: 999px;
	box-shadow: 0 6px 18px rgba(0,0,0,0.45);
	pointer-events: auto;
	overflow: hidden;
}

/* subtle soft fades on left and right sides of the pill */
.control-bar::before,
.control-bar::after{
	content: '';
	position: absolute;
	top: 0;
	bottom: 0;
	width: 18px;
	pointer-events: none;
}
.control-bar::before{
	left: -12px;
	background: linear-gradient(90deg, rgba(0,0,0,0.0), rgba(0,0,0,0.45));
}
.control-bar::after{
	right: -12px;
	background: linear-gradient(270deg, rgba(0,0,0,0.0), rgba(0,0,0,0.45));
}

.control-button{
	background: transparent;
	border: none;
	color: #ddd;
	padding: 8px 12px;
	border-radius: 8px;
	cursor: pointer;
}
.control-button:hover{
	background: rgba(255,255,255,0.04);
}

/* PayPal styled button */
.paypal-button {
	/* Match the app's accent blue used in progress bars and controls */
	--background: #4da6ff !important;
	background: linear-gradient(180deg, #59b0ff, #4da6ff) !important;
	color: #fff !important;
	border: 1px solid rgba(77,166,255,0.18) !important;
	box-shadow: 0 6px 14px rgba(77,166,255,0.09) !important;
	/* Make rectangular button consistent with other UI buttons */
	--border-radius: 8px !important;
	border-radius: 8px !important;
	--padding-start: 12px !important;
	--padding-end: 12px !important;
	--min-height: 36px !important;
	height: auto !important;
	display: inline-flex !important;
	align-items: center !important;
	justify-content: center !important;
}
.paypal-button ion-icon {
	color: #fff !important;
}
.paypal-button:hover {
	filter: brightness(1.02) !important;
}

/* Small toggle button style used in headers */
.panel-toggle{
	background: transparent;
	border: none;
	color: #ddd;
	cursor: pointer;
}

/* Footer layout and responsive adjustments */
.footer-bar{
	position: fixed;
	left: 0;
	right: 0;
	bottom: 0;
	z-index: 50;
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 12px 20px;
	background: linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.6));
	gap: 12px;
}
.footer-links-left, .footer-links-right{
	display: flex;
	gap: 18px;
	align-items: center;
}
.footer-link{
	color: rgba(255,255,255,0.9);
	text-decoration: none;
	font-size: 14px;
	padding: 6px 8px;
	border-radius: 6px;
}
.footer-link:hover{ background: rgba(255,255,255,0.02); }
.footer-copy{
	position: fixed;
	left: 0;
	right: 0;
	bottom: 12px;
	display: flex;
	justify-content: center;
	width: 100%;
	z-index: 60;
	pointer-events: none;
	color: rgba(255,255,255,0.6);
}

@media (max-width: 720px) {
	.footer-bar{
		flex-direction: column;
		align-items: center;
		padding: 14px 16px;
		gap: 8px;
		bottom: 56px; /* leave space for control-bar */
	}
	.footer-links-left, .footer-links-right{
		width: 100%;
		justify-content: center;
		gap: 12px;
	}
	.footer-link{
		font-size: 16px;
		padding: 10px 12px;
	}
	.footer-copy{ bottom: 12px; font-size: 13px; }
}



/* Improve visibility for form controls on dark background */
ion-item, .ion-item {
	background: transparent !important;
	color: inherit !important;
}

ion-label, .ion-label {
	color: #e6e6e6 !important;
}

ion-input, ion-textarea, input, textarea, .textarea-native, .input-native {
	background: var(--input-bg) !important;
	color: #ddd !important;
	border-radius: 6px;
	padding: 6px 8px !important;
}

ion-card-title, .ion-card-title {
	color: #fff !important;
}

input::placeholder, textarea::placeholder {
	color: rgba(255,255,255,0.55) !important;
}


